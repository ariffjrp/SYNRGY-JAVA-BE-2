2023-11-24 10:59:25,093 INFO o.s.b.StartupInfoLogger [main] Starting Challenge5Application using Java 17.0.8 with PID 3728 (D:\java\SYNRGY JAVA BE 2\Challenge_5\target\classes started by FAJAR in D:\java\SYNRGY JAVA BE 2\Challenge_5)
2023-11-24 10:59:25,099 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-11-24 10:59:28,448 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-24 10:59:28,740 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 266 ms. Found 7 JPA repository interfaces.
2023-11-24 10:59:30,268 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2023-11-24 10:59:30,291 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-11-24 10:59:30,298 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2023-11-24 10:59:30,300 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.15]
2023-11-24 10:59:30,562 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-11-24 10:59:30,567 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5376 ms
2023-11-24 10:59:30,824 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-24 10:59:30,929 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.13.Final
2023-11-24 10:59:30,936 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-11-24 10:59:31,453 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-24 10:59:31,497 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-11-24 10:59:31,827 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2bdcfcf
2023-11-24 10:59:31,830 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-11-24 10:59:31,939 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2023-11-24 10:59:33,422 INFO o.h.m.i.EntityInstantiatorPojoStandard [main] HHH000182: No default (no-argument) constructor for class: binarfud.Challenge_5.model.OTP (class must be instantiated by Interceptor)
2023-11-24 10:59:33,884 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2023-11-24 10:59:34,232 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-24 10:59:35,160 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-24 10:59:36,075 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-24 10:59:36,484 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3a296643, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3443732a, org.springframework.security.web.context.SecurityContextHolderFilter@42018e32, org.springframework.security.web.header.HeaderWriterFilter@6dad684f, org.springframework.security.web.authentication.logout.LogoutFilter@af27e00, binarfud.Challenge_5.security.jwt.AuthTokenFilter@34525143, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@679cdfc3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@591dd039, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@68950f25, org.springframework.security.web.session.SessionManagementFilter@50ba10de, org.springframework.security.web.access.ExceptionTranslationFilter@4104b585, org.springframework.security.web.access.intercept.AuthorizationFilter@1fd226da]
2023-11-24 10:59:36,845 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2023-11-24 10:59:36,872 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-11-24 10:59:36,891 INFO o.s.b.StartupInfoLogger [main] Started Challenge5Application in 12.591 seconds (process running for 14.207)
2023-11-24 10:59:43,556 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-24 10:59:43,559 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-11-24 10:59:43,564 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-11-24 13:56:50,942 INFO o.s.b.StartupInfoLogger [main] Starting Challenge5Application using Java 17.0.8 with PID 1152 (D:\java\SYNRGY JAVA BE 2\Challenge_5\target\classes started by FAJAR in D:\java\SYNRGY JAVA BE 2\Challenge_5)
2023-11-24 13:56:50,948 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-11-24 13:56:52,634 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-24 13:56:52,759 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 112 ms. Found 7 JPA repository interfaces.
2023-11-24 13:56:53,684 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2023-11-24 13:56:53,693 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-11-24 13:56:53,696 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2023-11-24 13:56:53,696 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.15]
2023-11-24 13:56:53,812 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-11-24 13:56:53,813 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2753 ms
2023-11-24 13:56:53,979 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-24 13:56:54,042 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.13.Final
2023-11-24 13:56:54,045 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-11-24 13:56:54,358 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-24 13:56:54,402 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-11-24 13:56:54,640 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3eb9c575
2023-11-24 13:56:54,642 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-11-24 13:56:54,683 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2023-11-24 13:56:55,676 INFO o.h.m.i.EntityInstantiatorPojoStandard [main] HHH000182: No default (no-argument) constructor for class: binarfud.Challenge_5.model.OTP (class must be instantiated by Interceptor)
2023-11-24 13:56:55,977 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2023-11-24 13:56:56,206 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-24 13:56:56,787 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-24 13:56:57,540 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-24 13:56:58,142 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@76bfecef, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@661ec798, org.springframework.security.web.context.SecurityContextHolderFilter@4b6e296a, org.springframework.security.web.header.HeaderWriterFilter@779e66e5, org.springframework.security.web.authentication.logout.LogoutFilter@6e48dc84, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@685dceb8, binarfud.Challenge_5.security.jwt.AuthTokenFilter@4e53c6ef, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3dd4f91d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5e3934db, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@33e69162, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2c7fff1b, org.springframework.security.oauth2.client.web.OAuth2AuthorizationCodeGrantFilter@3594b4b4, org.springframework.security.web.session.SessionManagementFilter@312ddc51, org.springframework.security.web.access.ExceptionTranslationFilter@5135b459, org.springframework.security.web.access.intercept.AuthorizationFilter@4e0dec0c]
2023-11-24 13:56:58,613 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2023-11-24 13:56:58,644 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2023-11-24 13:56:58,670 INFO o.s.b.StartupInfoLogger [main] Started Challenge5Application in 8.559 seconds (process running for 9.19)
2023-11-24 13:57:13,778 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-24 13:57:13,782 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-11-24 13:57:13,787 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-11-24 14:18:32,866 INFO o.s.b.StartupInfoLogger [main] Starting Challenge5Application using Java 17.0.8 with PID 15740 (D:\java\SYNRGY JAVA BE 2\Challenge_5\target\classes started by FAJAR in D:\java\SYNRGY JAVA BE 2\Challenge_5)
2023-11-24 14:18:32,870 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-11-24 14:18:34,117 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-24 14:18:34,214 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 88 ms. Found 7 JPA repository interfaces.
2023-11-24 14:18:34,924 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2023-11-24 14:18:34,931 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-11-24 14:18:34,934 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2023-11-24 14:18:34,935 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.15]
2023-11-24 14:18:35,059 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-11-24 14:18:35,061 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2107 ms
2023-11-24 14:18:35,233 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-24 14:18:35,281 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.13.Final
2023-11-24 14:18:35,285 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-11-24 14:18:35,550 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-24 14:18:35,575 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-11-24 14:18:35,764 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@10b87ff6
2023-11-24 14:18:35,767 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-11-24 14:18:35,807 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2023-11-24 14:18:36,662 INFO o.h.m.i.EntityInstantiatorPojoStandard [main] HHH000182: No default (no-argument) constructor for class: binarfud.Challenge_5.model.OTP (class must be instantiated by Interceptor)
2023-11-24 14:18:36,945 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2023-11-24 14:18:37,147 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-24 14:18:37,486 ERROR o.s.b.w.e.t.TomcatStarter [main] Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'webSecurityConfig': Unsatisfied dependency expressed through field 'userService': Error creating bean with name 'userServiceImpl': Unsatisfied dependency expressed through field 'passwordEncoder': Error creating bean with name 'webSecurityConfig': Requested bean is currently in creation: Is there an unresolvable circular reference?
2023-11-24 14:18:37,513 INFO o.a.j.l.DirectJDKLog [main] Stopping service [Tomcat]
2023-11-24 14:18:37,517 WARN o.a.j.l.DirectJDKLog [main] The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.8/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.8/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)
 java.base@17.0.8/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)
 java.base@17.0.8/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base@17.0.8/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base@17.0.8/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)
 java.base@17.0.8/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
 java.base@17.0.8/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
 java.base@17.0.8/java.lang.Thread.run(Thread.java:833)
2023-11-24 14:18:37,518 WARN o.a.j.l.DirectJDKLog [main] The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.8/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.8/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)
 java.base@17.0.8/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)
 java.base@17.0.8/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base@17.0.8/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1061)
 java.base@17.0.8/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
 java.base@17.0.8/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
 java.base@17.0.8/java.lang.Thread.run(Thread.java:833)
2023-11-24 14:18:37,520 WARN o.s.c.s.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2023-11-24 14:18:37,521 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-24 14:18:37,523 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2023-11-24 14:18:37,529 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2023-11-24 14:18:37,543 INFO o.s.b.a.l.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-11-24 14:18:37,572 ERROR o.s.b.d.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

The dependencies of some of the beans in the application context form a cycle:

┌─────┐
|  webSecurityConfig (field binarfud.Challenge_5.service.UserService binarfud.Challenge_5.security.WebSecurityConfig.userService)
↑     ↓
|  userServiceImpl (field org.springframework.security.crypto.password.PasswordEncoder binarfud.Challenge_5.service.UserServiceImpl.passwordEncoder)
└─────┘


Action:

Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.

2023-11-24 14:21:54,037 INFO o.s.b.StartupInfoLogger [main] Starting Challenge5Application using Java 17.0.8 with PID 9612 (D:\java\SYNRGY JAVA BE 2\Challenge_5\target\classes started by FAJAR in D:\java\SYNRGY JAVA BE 2\Challenge_5)
2023-11-24 14:21:54,048 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-11-24 14:22:01,066 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-24 14:22:01,564 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 416 ms. Found 7 JPA repository interfaces.
2023-11-24 14:22:04,320 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2023-11-24 14:22:04,354 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-11-24 14:22:04,366 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2023-11-24 14:22:04,368 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.15]
2023-11-24 14:22:04,865 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-11-24 14:22:04,871 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 10420 ms
2023-11-24 14:22:05,501 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-24 14:22:05,824 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.13.Final
2023-11-24 14:22:05,848 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-11-24 14:22:07,308 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-24 14:22:07,417 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-11-24 14:22:07,991 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@32e830a0
2023-11-24 14:22:07,996 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-11-24 14:22:08,092 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2023-11-24 14:22:10,109 INFO o.h.m.i.EntityInstantiatorPojoStandard [main] HHH000182: No default (no-argument) constructor for class: binarfud.Challenge_5.model.OTP (class must be instantiated by Interceptor)
2023-11-24 14:22:10,617 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2023-11-24 14:22:11,016 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-24 14:22:11,736 ERROR o.s.b.w.e.t.TomcatStarter [main] Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'webSecurityConfig': Unsatisfied dependency expressed through field 'userService': Error creating bean with name 'userServiceImpl': Unsatisfied dependency expressed through field 'passwordEncoder': Error creating bean with name 'webSecurityConfig': Requested bean is currently in creation: Is there an unresolvable circular reference?
2023-11-24 14:22:11,795 INFO o.a.j.l.DirectJDKLog [main] Stopping service [Tomcat]
2023-11-24 14:22:11,801 WARN o.a.j.l.DirectJDKLog [main] The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.8/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.8/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)
 java.base@17.0.8/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)
 java.base@17.0.8/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base@17.0.8/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base@17.0.8/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)
 java.base@17.0.8/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
 java.base@17.0.8/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
 java.base@17.0.8/java.lang.Thread.run(Thread.java:833)
2023-11-24 14:22:11,802 WARN o.a.j.l.DirectJDKLog [main] The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.8/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.8/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)
 java.base@17.0.8/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)
 java.base@17.0.8/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base@17.0.8/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1061)
 java.base@17.0.8/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
 java.base@17.0.8/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
 java.base@17.0.8/java.lang.Thread.run(Thread.java:833)
2023-11-24 14:22:11,807 WARN o.s.c.s.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2023-11-24 14:22:11,808 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-24 14:22:11,812 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2023-11-24 14:22:11,827 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2023-11-24 14:22:11,861 INFO o.s.b.a.l.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-11-24 14:22:11,912 ERROR o.s.b.d.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

The dependencies of some of the beans in the application context form a cycle:

┌─────┐
|  webSecurityConfig (field binarfud.Challenge_5.service.UserService binarfud.Challenge_5.security.WebSecurityConfig.userService)
↑     ↓
|  userServiceImpl (field org.springframework.security.crypto.password.PasswordEncoder binarfud.Challenge_5.service.UserServiceImpl.passwordEncoder)
└─────┘


Action:

Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.

2023-11-24 14:23:14,686 INFO o.s.b.StartupInfoLogger [main] Starting Challenge5Application using Java 17.0.8 with PID 15316 (D:\java\SYNRGY JAVA BE 2\Challenge_5\target\classes started by FAJAR in D:\java\SYNRGY JAVA BE 2\Challenge_5)
2023-11-24 14:23:14,689 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-11-24 14:23:15,901 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-24 14:23:16,018 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 104 ms. Found 7 JPA repository interfaces.
2023-11-24 14:23:16,687 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2023-11-24 14:23:16,697 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-11-24 14:23:16,701 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2023-11-24 14:23:16,701 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.15]
2023-11-24 14:23:16,835 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-11-24 14:23:16,837 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2083 ms
2023-11-24 14:23:17,001 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-24 14:23:17,054 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.13.Final
2023-11-24 14:23:17,057 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-11-24 14:23:17,483 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-24 14:23:17,531 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-11-24 14:23:17,919 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@31f7eb8
2023-11-24 14:23:17,921 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-11-24 14:23:17,961 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2023-11-24 14:23:19,254 INFO o.h.m.i.EntityInstantiatorPojoStandard [main] HHH000182: No default (no-argument) constructor for class: binarfud.Challenge_5.model.OTP (class must be instantiated by Interceptor)
2023-11-24 14:23:19,615 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2023-11-24 14:23:19,830 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-24 14:23:20,291 ERROR o.s.b.w.e.t.TomcatStarter [main] Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'webSecurityConfig': Unsatisfied dependency expressed through field 'userService': Error creating bean with name 'userServiceImpl': Unsatisfied dependency expressed through field 'passwordEncoder': Error creating bean with name 'webSecurityConfig': Requested bean is currently in creation: Is there an unresolvable circular reference?
2023-11-24 14:23:20,320 INFO o.a.j.l.DirectJDKLog [main] Stopping service [Tomcat]
2023-11-24 14:23:20,324 WARN o.a.j.l.DirectJDKLog [main] The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.8/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.8/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)
 java.base@17.0.8/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)
 java.base@17.0.8/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base@17.0.8/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base@17.0.8/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)
 java.base@17.0.8/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
 java.base@17.0.8/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
 java.base@17.0.8/java.lang.Thread.run(Thread.java:833)
2023-11-24 14:23:20,325 WARN o.a.j.l.DirectJDKLog [main] The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.8/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.8/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)
 java.base@17.0.8/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)
 java.base@17.0.8/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base@17.0.8/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1061)
 java.base@17.0.8/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
 java.base@17.0.8/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
 java.base@17.0.8/java.lang.Thread.run(Thread.java:833)
2023-11-24 14:23:20,328 WARN o.s.c.s.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2023-11-24 14:23:20,328 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-24 14:23:20,331 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2023-11-24 14:23:20,336 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2023-11-24 14:23:20,350 INFO o.s.b.a.l.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-11-24 14:23:20,366 ERROR o.s.b.d.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

The dependencies of some of the beans in the application context form a cycle:

┌─────┐
|  webSecurityConfig (field binarfud.Challenge_5.service.UserService binarfud.Challenge_5.security.WebSecurityConfig.userService)
↑     ↓
|  userServiceImpl (field org.springframework.security.crypto.password.PasswordEncoder binarfud.Challenge_5.service.UserServiceImpl.passwordEncoder)
└─────┘


Action:

Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.

2023-11-24 14:29:21,352 INFO o.s.b.StartupInfoLogger [main] Starting Challenge5Application using Java 17.0.8 with PID 4728 (D:\java\SYNRGY JAVA BE 2\Challenge_5\target\classes started by FAJAR in D:\java\SYNRGY JAVA BE 2\Challenge_5)
2023-11-24 14:29:21,356 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-11-24 14:29:22,464 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-24 14:29:22,566 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 93 ms. Found 7 JPA repository interfaces.
2023-11-24 14:29:23,224 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2023-11-24 14:29:23,231 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-11-24 14:29:23,234 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2023-11-24 14:29:23,235 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.15]
2023-11-24 14:29:23,371 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-11-24 14:29:23,373 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1946 ms
2023-11-24 14:29:23,560 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-24 14:29:23,619 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.13.Final
2023-11-24 14:29:23,622 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-11-24 14:29:23,978 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-24 14:29:24,004 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-11-24 14:29:24,311 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4ad1a276
2023-11-24 14:29:24,314 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-11-24 14:29:24,352 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2023-11-24 14:29:25,299 INFO o.h.m.i.EntityInstantiatorPojoStandard [main] HHH000182: No default (no-argument) constructor for class: binarfud.Challenge_5.model.OTP (class must be instantiated by Interceptor)
2023-11-24 14:29:25,571 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2023-11-24 14:29:25,745 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-24 14:29:26,105 ERROR o.s.b.w.e.t.TomcatStarter [main] Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'webSecurityConfig': Unsatisfied dependency expressed through field 'userService': Error creating bean with name 'userServiceImpl': Unsatisfied dependency expressed through field 'passwordEncoder': Error creating bean with name 'webSecurityConfig': Requested bean is currently in creation: Is there an unresolvable circular reference?
2023-11-24 14:29:26,126 INFO o.a.j.l.DirectJDKLog [main] Stopping service [Tomcat]
2023-11-24 14:29:26,130 WARN o.a.j.l.DirectJDKLog [main] The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.8/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.8/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)
 java.base@17.0.8/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)
 java.base@17.0.8/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base@17.0.8/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base@17.0.8/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)
 java.base@17.0.8/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
 java.base@17.0.8/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
 java.base@17.0.8/java.lang.Thread.run(Thread.java:833)
2023-11-24 14:29:26,131 WARN o.a.j.l.DirectJDKLog [main] The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.8/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.8/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)
 java.base@17.0.8/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)
 java.base@17.0.8/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base@17.0.8/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1061)
 java.base@17.0.8/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
 java.base@17.0.8/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
 java.base@17.0.8/java.lang.Thread.run(Thread.java:833)
2023-11-24 14:29:26,134 WARN o.s.c.s.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2023-11-24 14:29:26,135 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-24 14:29:26,138 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2023-11-24 14:29:26,142 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2023-11-24 14:29:26,157 INFO o.s.b.a.l.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-11-24 14:29:26,176 ERROR o.s.b.d.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

The dependencies of some of the beans in the application context form a cycle:

┌─────┐
|  webSecurityConfig (field binarfud.Challenge_5.service.UserService binarfud.Challenge_5.security.WebSecurityConfig.userService)
↑     ↓
|  userServiceImpl (field org.springframework.security.crypto.password.PasswordEncoder binarfud.Challenge_5.service.UserServiceImpl.passwordEncoder)
└─────┘


Action:

Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.

